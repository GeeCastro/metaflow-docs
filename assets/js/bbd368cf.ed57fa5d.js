"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[103],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>d});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var s=n.createContext({}),u=function(e){var t=n.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},f={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=u(o),d=r,w=p["".concat(s,".").concat(d)]||p[d]||f[d]||a;return o?n.createElement(w,i(i({ref:t},c),{},{components:o})):n.createElement(w,i({ref:t},c))}));function d(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<a;u++)i[u]=o[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}p.displayName="MDXCreateElement"},6896:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>f,frontMatter:()=>a,metadata:()=>l,toc:()=>u});var n=o(7462),r=(o(7294),o(3905));const a={},i="Scheduling Metaflow Flows",l={unversionedId:"going-to-production-with-metaflow/scheduling-metaflow-flows/README",id:"going-to-production-with-metaflow/scheduling-metaflow-flows/README",title:"Scheduling Metaflow Flows",description:"A key feature of Metaflow is to make it easy to take machine learning pipelines from prototyping to production. This sentence and a number of other Metaflow documents use the word production casually. What do we actually mean by it?",source:"@site/docs/going-to-production-with-metaflow/scheduling-metaflow-flows/README.md",sourceDirName:"going-to-production-with-metaflow/scheduling-metaflow-flows",slug:"/going-to-production-with-metaflow/scheduling-metaflow-flows/",permalink:"/going-to-production-with-metaflow/scheduling-metaflow-flows/",draft:!1,editUrl:"https://github.dev/Netflix/metaflow-docs/blob/master/docs/going-to-production-with-metaflow/scheduling-metaflow-flows/README.md",tags:[],version:"current",frontMatter:{},sidebar:"python",previous:{title:"Organizing Results",permalink:"/metaflow/tagging"},next:{title:"Scheduling Metaflow Flows with Argo Workflows",permalink:"/going-to-production-with-metaflow/scheduling-metaflow-flows/scheduling-with-argo-workflows"}},s={},u=[],c={toc:u};function f(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"scheduling-metaflow-flows"},"Scheduling Metaflow Flows"),(0,r.kt)("p",null,"A key feature of Metaflow is to make it easy to take machine learning pipelines from prototyping to production. This sentence and a number of other Metaflow documents use the word production casually. What do we actually mean by it?"),(0,r.kt)("p",null,"For Machine Learning Infrastructure, production has a simple and unexciting meaning: In production, the flow should run without any human intervention. If your flow produced valid results during development, we want it to produce equally valid results in production - just without anyone managing it manually."),(0,r.kt)("p",null,"Eventually, something will fail in production, and human intervention is needed. In these cases, we want to minimize the amount of human intervention and the time spent on debugging."),(0,r.kt)("p",null,"If your flow is built with Metaflow best practices, making it run automatically in production should not be a big deal."),(0,r.kt)("p",null,"By this definition, you can not run your flow with"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"python helloworld.py run\n")),(0,r.kt)("p",null,"in production as it requires someone to type the command manually. A classic solution is to have cron or another similar time-based scheduler to run the command automatically at a set schedule."),(0,r.kt)("p",null,"It is not easy to use cron as a production scheduler. What if the instance running cron fails? If the scheduled command fails, how do I know it has failed? How do you see its error logs? Does my cron instance have enough capacity to handle another command? And most importantly, how do I orchestrate schedules of multiple commands so that their mutual dependencies are handled correctly?"),(0,r.kt)("p",null,"Metaflow currently integrates with ",(0,r.kt)("a",{parentName:"p",href:"/going-to-production-with-metaflow/scheduling-metaflow-flows/scheduling-with-argo-workflows"},"Argo Workflows")," (a ",(0,r.kt)("a",{parentName:"p",href:"https://argoproj.github.io/workflows"},"Kubernetes-native workflow orchestrator"),") and ",(0,r.kt)("a",{parentName:"p",href:"/going-to-production-with-metaflow/scheduling-metaflow-flows/scheduling-with-aws-step-functions"},"AWS Step Functions")," (a ",(0,r.kt)("a",{parentName:"p",href:"https://aws.amazon.com/step-functions/"},"managed general-purpose orchestrator"),"), that can answer these questions."),(0,r.kt)("p",null,"Learn more about how to deploy your Metaflow flows to these orchestrators in the following subsections:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/going-to-production-with-metaflow/scheduling-metaflow-flows/scheduling-with-argo-workflows"},"Scheduling with Argo Workflows")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/going-to-production-with-metaflow/scheduling-metaflow-flows/scheduling-with-aws-step-functions"},"Scheduling with AWS Step Functions"))))}f.isMDXComponent=!0}}]);